# =============================================================================
# Liam Environment Configuration Template
# =============================================================================
# Copy this file to .env.local and fill in your values
# Required variables are marked with [REQUIRED]
# Optional variables are marked with [OPTIONAL]

# =============================================================================
# Application Settings
# =============================================================================

# [REQUIRED] Base URL for the application
NEXT_PUBLIC_BASE_URL=http://localhost:3001

# [REQUIRED] Environment name (development, staging, production)
NEXT_PUBLIC_ENV_NAME=development

# [OPTIONAL] Port to run the application (default: 3001)
PORT=3001

# =============================================================================
# Database Configuration (Supabase)
# =============================================================================

# [REQUIRED] Supabase project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# [REQUIRED] Supabase anonymous key (public, safe for client-side)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# [REQUIRED] Supabase service role key (secret, server-side only)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# [REQUIRED] PostgreSQL connection string (direct connection)
POSTGRES_URL=postgresql://postgres.xxxx:password@aws-0-us-east-1.pooler.supabase.com:5432/postgres

# [OPTIONAL] Non-pooling connection (for migrations)
POSTGRES_URL_NON_POOLING=postgresql://postgres.xxxx:password@aws-0-us-east-1.pooler.supabase.com:5432/postgres

# =============================================================================
# AI Model API Keys
# =============================================================================

# [REQUIRED] OpenAI API Key (or compatible API)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# [OPTIONAL] Custom OpenAI base URL (for Z.AI or other providers)
# Z.AI example: https://api.z.ai/api/openai
# Leave empty for standard OpenAI
OPENAI_BASE_URL=

# [OPTIONAL] Anthropic API Key (for Claude models)
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# [OPTIONAL] Anthropic base URL (for custom providers)
ANTHROPIC_BASE_URL=

# [OPTIONAL] Anthropic model selection
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# =============================================================================
# GitHub OAuth (for repository integration)
# =============================================================================

# [OPTIONAL] GitHub OAuth App credentials
# Create app at: https://github.com/settings/developers
GITHUB_CLIENT_ID=Iv1.xxxxxxxxxxxx
GITHUB_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# [REQUIRED if using GitHub OAuth] OAuth encryption keyring
# Generate with: node -e "console.log('k2025-01:' + require('crypto').randomBytes(32).toString('base64'))"
LIAM_GITHUB_OAUTH_KEYRING=k2025-01:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# Monitoring & Debugging
# =============================================================================

# [OPTIONAL] LangSmith for agent debugging
# Get your key from: https://smith.langchain.com/
LANGSMITH_API_KEY=ls__xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
LANGSMITH_PROJECT=liam-development
LANGSMITH_TRACING=true

# [OPTIONAL] Sentry for error tracking
# Get your DSN from: https://sentry.io/
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxx
SENTRY_PROJECT=liam
SENTRY_ORG=your-organization
SENTRY_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# Email Configuration (Resend)
# =============================================================================

# [OPTIONAL] Resend API key for sending emails
# Get your key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxx
RESEND_EMAIL_FROM_ADDRESS=noreply@yourdomain.com
RESEND_EMAIL_FROM_NAME=Liam

# =============================================================================
# Feature Flags
# =============================================================================

# [OPTIONAL] Enable/disable features
NEXT_PUBLIC_ENABLE_GITHUB_INTEGRATION=true
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_BETA_FEATURES=false

# =============================================================================
# Development Settings
# =============================================================================

# [OPTIONAL] Node environment
NODE_ENV=development

# [OPTIONAL] Enable debug logging
DEBUG=false
LOG_LEVEL=info

# [OPTIONAL] Disable telemetry
NEXT_TELEMETRY_DISABLED=1

# =============================================================================
# Production Settings (uncomment for production)
# =============================================================================

# NODE_ENV=production
# NEXT_PUBLIC_ENV_NAME=production
# NEXT_PUBLIC_BASE_URL=https://liam.yourdomain.com
# LANGSMITH_TRACING=false
# DEBUG=false
# LOG_LEVEL=warn

# =============================================================================
# Docker Compose Settings (if using docker-compose.yml)
# =============================================================================

# [OPTIONAL] Docker configuration
APP_PORT=3001
DB_NAME=liam
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_PORT=5432

# [OPTIONAL] Redis configuration
REDIS_PORT=6379

# [OPTIONAL] pgAdmin configuration
PGADMIN_EMAIL=admin@liam.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# =============================================================================
# Backup Configuration (for ACTIONS/backup.sh)
# =============================================================================

# [OPTIONAL] S3 bucket for backups
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=us-east-1
BACKUP_S3_BUCKET=liam-backups

# [OPTIONAL] GPG encryption for backups
BACKUP_GPG_PASSPHRASE=your_secure_passphrase

# =============================================================================
# API Provider Examples
# =============================================================================

# Example 1: Standard OpenAI
# OPENAI_API_KEY=sk-...
# OPENAI_BASE_URL=

# Example 2: Z.AI (cost-effective)
# OPENAI_API_KEY=your-zai-key
# OPENAI_BASE_URL=https://api.z.ai/api/openai
# ANTHROPIC_BASE_URL=https://api.z.ai/api/anthropic
# ANTHROPIC_MODEL=glm-4.6

# Example 3: Azure OpenAI
# OPENAI_API_KEY=your-azure-key
# OPENAI_BASE_URL=https://your-resource.openai.azure.com/openai/deployments/your-deployment

# Example 4: Local Ollama
# OPENAI_API_KEY=ollama
# OPENAI_BASE_URL=http://localhost:11434/v1

# =============================================================================
# Security Notes
# =============================================================================
#
# 1. NEVER commit .env.local to version control
# 2. Keep service role keys and API keys secret
# 3. Use different keys for development and production
# 4. Rotate keys regularly (every 90 days recommended)
# 5. Use strong, unique passwords for database
# 6. Enable MFA on all accounts (GitHub, OpenAI, etc.)
#
# =============================================================================
# Quick Start
# =============================================================================
#
# 1. Copy this file:
#    cp .env.example .env.local
#
# 2. Fill in required values (marked [REQUIRED])
#
# 3. Generate OAuth keyring:
#    node -e "console.log('LIAM_GITHUB_OAUTH_KEYRING=\"k2025-01:' + require('crypto').randomBytes(32).toString('base64') + '\"')"
#
# 4. Test configuration:
#    ./ACTIONS/start.sh
#
# 5. Verify health:
#    curl http://localhost:3001/api/health
#
# =============================================================================
# Getting API Keys
# =============================================================================
#
# OpenAI: https://platform.openai.com/api-keys
# Anthropic: https://console.anthropic.com/
# Supabase: https://app.supabase.com/ (create project)
# GitHub OAuth: https://github.com/settings/developers
# LangSmith: https://smith.langchain.com/
# Sentry: https://sentry.io/
# Resend: https://resend.com/api-keys
#
# =============================================================================

